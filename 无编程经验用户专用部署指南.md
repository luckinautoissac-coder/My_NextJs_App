# 无编程经验用户专用部署指南

## 🎯 适用人群

- ✅ 没有编程经验
- ✅ 不会用命令行
- ✅ 维护能力为零
- ✅ 只想让应用跑起来

## ⚠️ 重要提示

**唯一推荐方案：Vercel + PlanetScale**

其他方案（VPS、自建服务器等）都不适合你！

## 🚀 完整部署步骤（全是点击操作）

### 准备工作（一次性，10分钟）

#### 1. 注册GitHub账号（如果没有）

1. 打开 https://github.com
2. 点击右上角 **Sign up**
3. 填写邮箱、密码
4. 验证邮箱
5. 完成注册

#### 2. 上传代码到GitHub

**方式A：使用GitHub Desktop（推荐，不需要命令）**

1. 下载 GitHub Desktop：https://desktop.github.com
2. 安装并登录
3. 点击 **File** → **New Repository**
4. 填写：
   - Name: `chatapp`
   - Local Path: 选择你的项目文件夹
5. 点击 **Create Repository**
6. 点击 **Publish repository**
7. 完成！代码已上传

**方式B：直接在网页上传（更简单）**

1. 打开 https://github.com
2. 点击右上角 **+** → **New repository**
3. 填写 Repository name: `chatapp`
4. 点击 **Create repository**
5. 点击 **uploading an existing file**
6. 把项目文件夹拖拽到网页上
7. 点击 **Commit changes**
8. 完成！

### 步骤1: 注册PlanetScale（5分钟）

#### 1.1 访问网站

打开浏览器，访问：https://planetscale.com

#### 1.2 注册账号

1. 点击右上角 **Sign up**
2. 选择 **Continue with GitHub**
3. 点击 **Authorize PlanetScale**
4. 完成！自动登录

#### 1.3 创建数据库

1. 点击 **New database** 按钮（大按钮，很明显）
2. 填写信息：
   - Database name: 输入 `chatapp`
   - Region: 选择 **AWS us-east-1**（默认即可）
3. 点击 **Create database** 按钮
4. 等待1-2分钟，数据库创建中...
5. 看到 ✅ 成功提示

#### 1.4 创建数据表

1. 点击顶部的 **Console** 标签
2. 会看到一个黑色输入框
3. 复制以下内容（我会单独提供）
4. 粘贴到输入框
5. 点击 **Execute** 按钮（或按 Ctrl+Enter）
6. 看到 ✅ 成功提示

**SQL代码（复制这个）：**

```sql
CREATE TABLE messages (
  id VARCHAR(36) PRIMARY KEY,
  user_id VARCHAR(100) NOT NULL,
  topic_id VARCHAR(36),
  role VARCHAR(20) NOT NULL,
  content TEXT NOT NULL,
  message_type VARCHAR(20) DEFAULT 'normal',
  status VARCHAR(20) DEFAULT 'sent',
  model_id VARCHAR(50),
  timestamp DATETIME NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  KEY idx_user_id (user_id),
  KEY idx_timestamp (timestamp)
);

CREATE TABLE topics (
  id VARCHAR(36) PRIMARY KEY,
  user_id VARCHAR(100) NOT NULL,
  title VARCHAR(255) NOT NULL,
  icon VARCHAR(50),
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  KEY idx_user_id (user_id)
);

CREATE TABLE user_settings (
  user_id VARCHAR(100) PRIMARY KEY,
  api_key TEXT,
  selected_model VARCHAR(50),
  base_url VARCHAR(255),
  settings JSON
);
```

#### 1.5 获取连接信息

1. 点击顶部的 **Overview** 标签
2. 点击右侧的 **Connect** 按钮
3. 选择 **@planetscale/database** 选项
4. 点击 **New password** 按钮
5. 给密码起个名字：`vercel`
6. 点击 **Create password**
7. 复制显示的连接字符串（看起来像：`mysql://xxx:xxx@xxx.psdb.cloud/chatapp`）
8. **重要**：把这个字符串保存到记事本，稍后会用

### 步骤2: 部署到Vercel（10分钟）

#### 2.1 访问Vercel

打开浏览器，访问：https://vercel.com

#### 2.2 注册登录

1. 点击右上角 **Sign Up**
2. 选择 **Continue with GitHub**
3. 点击 **Authorize Vercel**
4. 完成！自动登录

#### 2.3 导入项目

1. 点击 **Add New...** → **Project**
2. 在列表中找到你的 `chatapp` 仓库
3. 点击旁边的 **Import** 按钮
4. 进入配置页面

#### 2.4 配置环境变量

1. 找到 **Environment Variables** 部分
2. 点击展开
3. 添加第一个变量：
   - Name（名称）输入：`DATABASE_URL`
   - Value（值）粘贴：刚才保存的PlanetScale连接字符串
4. 点击 **Add** 按钮

#### 2.5 部署

1. 点击底部的 **Deploy** 按钮
2. 等待2-3分钟（会显示构建进度）
3. 看到 🎉 恭喜页面！
4. 点击 **Visit** 按钮
5. 你的应用已经上线了！

### 步骤3: 获取网址（1分钟）

部署成功后，Vercel会给你一个网址，类似：
```
https://your-chatapp-xxx.vercel.app
```

1. 复制这个网址
2. 分享给客户
3. 完成！

### 步骤4: 绑定自定义域名（可选，5分钟）

如果你有自己的域名（如 `chat.yourdomain.com`）：

#### 4.1 在Vercel添加域名

1. 在Vercel项目页面，点击顶部 **Settings** 标签
2. 点击左侧 **Domains**
3. 输入你的域名：`chat.yourdomain.com`
4. 点击 **Add**
5. Vercel会显示需要配置的DNS记录

#### 4.2 在Hostinger配置DNS

1. 登录 Hostinger
2. 进入 **DNS管理**
3. 添加记录：
   - Type: `CNAME`
   - Name: `chat`（或者你想要的子域名）
   - Points to: 复制Vercel提供的地址
4. 保存
5. 等待5-10分钟生效
6. 完成！访问 `https://chat.yourdomain.com`

## 🎉 完成检查

访问你的网址，检查：

- [ ] 网站能打开
- [ ] 可以发送消息
- [ ] 可以看到AI回复
- [ ] 刷新页面消息还在

如果全部✅，恭喜！部署成功！

## 🔄 如何更新代码

### 使用GitHub Desktop（推荐）

1. 在本地修改代码
2. 打开GitHub Desktop
3. 会看到修改的文件列表
4. 在左下角填写更新说明（随便写，如"修复bug"）
5. 点击 **Commit to main**
6. 点击右上角 **Push origin**
7. 完成！Vercel会自动检测并重新部署（2-3分钟）

### 网页上传（最简单）

1. 打开你的GitHub仓库页面
2. 进入要修改的文件
3. 点击右上角 ✏️ 编辑图标
4. 修改内容
5. 点击底部 **Commit changes**
6. 完成！Vercel自动部署

## 🆘 遇到问题怎么办

### 1. 部署失败

**查看错误：**
1. 在Vercel项目页面
2. 点击失败的部署
3. 点击 **Building** 查看构建日志
4. 截图错误信息
5. 联系我（提供截图）

### 2. 数据库连接失败

**检查：**
1. 确认环境变量 `DATABASE_URL` 已正确设置
2. 确认PlanetScale数据库正在运行
3. 在Vercel重新部署一次（点击右上角三个点 → **Redeploy**）

### 3. 网站访问很慢

**正常情况：**
- 第一次访问会慢一点（冷启动）
- 之后会很快
- 如果一直慢，联系我

### 4. 客户报告问题

**查看日志：**
1. 登录Vercel
2. 点击项目
3. 点击顶部 **Logs** 标签
4. 查看最近的错误
5. 截图给我

## 💰 费用说明

### 免费额度

**PlanetScale:**
- ✅ 5GB 存储
- ✅ 10亿次读取/月
- ✅ 1000万次写入/月

**Vercel:**
- ✅ 100GB 流量/月
- ✅ 无限部署次数

**预估：** 支持 500-1000 个活跃用户，完全免费

### 如果超出免费额度

**会收到邮件通知，到时候再考虑升级：**
- PlanetScale Scaler: $29/月
- Vercel Pro: $20/月

但是对于demo项目，基本不会超出。

## 📱 日常维护

**好消息：完全不需要维护！**

系统会自动：
- ✅ 备份数据
- ✅ 更新安全补丁
- ✅ 扩展资源
- ✅ 监控健康状态
- ✅ 处理故障

你需要做的：
- ❌ 什么都不用做！

## 🎯 总结

**你需要会的：**
1. 浏览网页 ✅
2. 点击按钮 ✅
3. 复制粘贴 ✅

**你不需要会的：**
- ❌ 写代码
- ❌ 用命令行
- ❌ 维护服务器
- ❌ 处理技术问题

**时间投入：**
- 首次部署：30分钟
- 日常维护：0分钟

**费用：**
- ¥0/月

---

**这就是为你量身定制的方案！** 🎉

需要我一步步带你操作吗？

